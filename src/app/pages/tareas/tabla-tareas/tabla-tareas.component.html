<div class="contenedor__tabla">
    @if (hayTareas()) {
    <table>
        <thead>
            <tr>
                <th>#</th>
                <th>Nombre</th>
                <th>Descripcion</th>
                <th>Fecha</th>
                <th>Links</th>
                <th>Estado</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            @for (tarea of tareas; track $index) {
            <tr>
                <td>{{$index + 1}}</td>
                <td [style.width.%]="tamanoTds">{{tarea.nombre}}</td>
                <td [style.width.%]="tamanoTds">{{tarea.descripcion}}</td>
                <td [style.width.%]="tamanoTds">{{tarea.fecha}}</td>
                <td [style.width.%]="tamanoTds">{{tarea.link}}</td>
                <td [ngStyle]="{'text-align': 'center'}">{{tarea.estado}}</td>
                <td [style.width.px]="270">
                    <div class="btns__accion">
                        <button [style]="{'background-color': 'red'}"
                            [ngClass]="{'btn__eliminar': true}"
                            (click)="eliminar($index)"
                            type="button">Eliminar</button>
                        <button [style]="{'background-color': 'blue'}"
                            [ngClass]="{'btn__modificar': true}"
                            type="button" (click)="enviarFormActualizar(tarea, $index)">Modificar</button>
                        <button [style]="{'background-color': 'green'}"
                            [ngClass]="{'btn__finalizar': true}"
                            type="button" (click)="finalizar($index, tarea)">Finalizar</button>
                    </div>
                </td>
            </tr>
            }
        </tbody>
    </table>
    }
    @else {
    <div class="sin__tareas">
        <p>No hay tareas disponibles</p>
    </div>
    }

    @if (mostrarForm) {
    <app-form-nuevas-tareas (enviar)="guardarTarea($event)"
        (cancelar)="mostrarFormNuevaTarea()"
        #formNuevaTarea></app-form-nuevas-tareas>
    }
    @if (mostrarFormActualizar) {
        <app-form-actualizar-tarea (cancelar)="mostrarFormActualizarTarea()" (enviar)="modificar($event)" [tareaAct]="tareaTabla" #formActTarea></app-form-actualizar-tarea>
    }

    <div class="agregar__tarea" title="Agregar tarea">
        <button type="button" (click)="mostrarFormNuevaTarea()">
            <img src="add tarea.svg" alt="Icono agregar tarea">
        </button>
    </div>
</div>